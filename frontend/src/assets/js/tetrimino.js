const tetriminoTable = {
  O: {
    name: "O",
    color: "#f8b800",
    tetriminoes: [
      [
        [0, 0],
        [1, 0],
        [0, 1],
        [1, 1],
      ],
      [
        [0, 0],
        [1, 0],
        [0, -1],
        [1, -1],
      ],
      [
        [0, 0],
        [-1, 0],
        [0, -1],
        [-1, -1],
      ],
      [
        [0, 0],
        [-1, 0],
        [0, 1],
        [-1, 1],
      ],
    ],
  },
  I: {
    name: "I",
    color: "#3cbcfc",
    tetriminoes: [
      [
        [0, 0],
        [-1, 0],
        [1, 0],
        [2, 0],
      ],
      [
        [0, 0],
        [0, 1],
        [0, -1],
        [0, -2],
      ],
      [
        [0, 0],
        [1, 0],
        [-1, 0],
        [-2, 0],
      ],
      [
        [0, 0],
        [0, -1],
        [0, 1],
        [0, 2],
      ],
    ],
  },
  T: {
    name: "T",
    color: "#9878f8",
    tetriminoes: [
      [
        [0, 0],
        [-1, 0],
        [1, 0],
        [0, 1],
      ],
      [
        [0, 0],
        [0, 1],
        [0, -1],
        [1, 0],
      ],
      [
        [0, 0],
        [-1, 0],
        [1, 0],
        [0, -1],
      ],
      [
        [0, 0],
        [-1, 0],
        [0, -1],
        [0, 1],
      ],
    ],
  },
  S: {
    name: "S",
    color: "#58d854",
    tetriminoes: [
      [
        [0, 0],
        [-1, 0],
        [0, 1],
        [1, 1],
      ],
      [
        [0, 0],
        [1, 0],
        [0, 1],
        [1, -1],
      ],
      [
        [0, 0],
        [-1, -1],
        [1, 0],
        [0, -1],
      ],
      [
        [0, 0],
        [-1, 0],
        [-1, 1],
        [0, -1],
      ],
    ],
  },
  Z: {
    name: "Z",
    color: "#f85898",
    tetriminoes: [
      [
        [0, 0],
        [-1, 1],
        [1, 0],
        [0, 1],
      ],
      [
        [0, 0],
        [1, 0],
        [0, -1],
        [1, 1],
      ],
      [
        [0, 0],
        [-1, 0],
        [1, -1],
        [0, -1],
      ],
      [
        [0, 0],
        [-1, 0],
        [0, 1],
        [-1, -1],
      ],
    ],
  },
  J: {
    name: "J",
    color: "#6888fc",
    tetriminoes: [
      [
        [0, 0],
        [-1, 0],
        [1, 0],
        [-1, 1],
      ],
      [
        [0, 0],
        [0, 1],
        [0, -1],
        [1, 1],
      ],
      [
        [0, 0],
        [-1, 0],
        [1, 0],
        [1, -1],
      ],
      [
        [0, 0],
        [-1, -1],
        [0, 1],
        [0, -1],
      ],
    ],
  },
  L: {
    name: "L",
    color: "#f87858",
    tetriminoes: [
      [
        [0, 0],
        [-1, 0],
        [1, 0],
        [1, 1],
      ],
      [
        [0, 0],
        [1, -1],
        [0, 1],
        [0, -1],
      ],
      [
        [0, 0],
        [-1, 0],
        [1, 0],
        [-1, -1],
      ],
      [
        [0, 0],
        [-1, 1],
        [0, 1],
        [0, -1],
      ],
    ],
  },
};

export function shuffleBag() {
  const arr = ["I", "J", "L", "O", "S", "T", "Z"];

  for (let i = arr.length - 1; i > 0; i--) {
    let j = Math.floor(Math.random() * (i + 1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }

  return arr;
}

export function getBags() {
  const result = [];
  const bag = shuffleBag();

  for (let i = 0; i < bag.length; i++) {
    result.push(tetriminoTable[bag[i]]);
  }

  return result;
}
